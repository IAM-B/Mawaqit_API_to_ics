<!-- Main Page Template - Prayer Planner -->
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>ðŸ•Œ Prayer Planner</title>
    <!-- Favicon and stylesheet links -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="/static/css/styles.css" />
    
    <!-- External CSS Libraries -->
    <!-- Tom Select for enhanced dropdowns -->
    <link
      href="https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.css"
      rel="stylesheet"
    />
    <!-- Leaflet for map functionality -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <!-- MarkerCluster for map markers -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"
    />
  </head>
  <body>
    <main class="container">
      <!-- Page title -->
      <h1 class="page-title">ðŸ•Œ Prayer Planner</h1>
      
      <!-- Map container -->
      <div
        id="mosque-map"
        style="height: 500px; margin-top: 1em; border-radius: 8px"
      ></div>

      <!-- Main form for prayer planning -->
      <form action="/planner" method="post" class="form">
        <fieldset class="form-section">
          <!-- Country selection -->
          <label for="country-select">Pays :</label>
          <select id="country-select" name="country" autocomplete="off">
            <option value="">-- SÃ©lectionner un pays --</option>
          </select>

          <!-- Mosque selection -->
          <label for="mosque-select">MosquÃ©e :</label>
          <select
            id="mosque-select"
            name="masjid_id"
            autocomplete="off"
            disabled
          >
            <option value="">-- SÃ©lectionner une mosquÃ©e --</option>
          </select>

          <!-- Prayer time padding settings -->
          <label for="padding_before">Temps avant priÃ¨re (min) :</label>
          <input type="number" name="padding_before" value="10" min="0" />

          <label for="padding_after">Temps aprÃ¨s priÃ¨re (min) :</label>
          <input type="number" name="padding_after" value="35" min="0" />

          <!-- Hidden fields for mosque coordinates -->
          <input type="hidden" id="mosque_lat" name="mosque_lat" value="" />
          <input type="hidden" id="mosque_lng" name="mosque_lng" value="" />
          <input type="hidden" id="mosque_name" name="mosque_name" value="" />
          <input type="hidden" id="mosque_address" name="mosque_address" value="" />

          <!-- Time scope selection -->
          <label for="scope">PÃ©riode :</label>
          <select name="scope" required>
            <option value="today">Aujourd'hui</option>
            <option value="month">Mois</option>
            <option value="year">AnnÃ©e</option>
          </select>
        </fieldset>

        <!-- Submit button -->
        <button type="submit" class="btn-submit" aria-label="GÃ©nÃ©rer planning">
          ðŸ“¥ GÃ©nÃ©rer planning
        </button>
      </form>
    </main>

    <!-- External JavaScript Libraries -->
    <!-- Leaflet for map functionality -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- MarkerCluster for map markers -->
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    <!-- Tom Select for enhanced dropdowns -->
    <script src="https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"></script>
    
    <!-- Local JavaScript files -->
    <script src="{{ url_for('static', filename='js/mosque_search.js') }}"></script>
    <script src="{{ url_for('static', filename='js/map_loader.js') }}"></script>
  </body>
</html>
